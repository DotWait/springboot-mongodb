MongoDb复合索引
当只有查询条件时，分两种情况
（1）查询条件中包含了复合索引的第一个字段，此时会命中该复合索引
（2）查询条件中不包含复合索引的第一个字段，包含了其他字段，此时不会命中索引

当有查询条件且有排序操作时
（1）查询字段包含了复合索引的第一个字段，排序字段在复合索引的字段中
查询命中索引，并且排序命中索引，使用索引排序
（2）查询字段包含了复合索引的第一个字段，排序字段不在复合索引的字段中
查询命中索引，但是排序未命中索引，在内存中排序
（3）查询字段不包含复合索引的第一个字段，排序字段在复合索引的第一个字段中
查询未命中索引，但是排序命中索引，排序使用索引
（4）查询字段不包含复合索引的第一个字段，排序字段不在复合索引的字段中或在复合索引除第一个以外的字段中
查询未命中索引，排序未命中索引，在内存中排序

复合索引与排序结合
索引字段为{storeId:1,phone:1,sex:1,city:1,_id:1}
查询字段为storeId,phone,sex,city
排序字段为_id
只有当查询条件中包含storeId,phone,sex,city时排序字段_id才会使用索引排序
当查询条件只包含部分时，排序在内存中执行

